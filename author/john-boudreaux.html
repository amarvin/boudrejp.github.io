<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>a side of projects - John Boudreaux</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">a side of projects </a></h1>
                <nav><ul>
                    <li><a href="/category/general.html">General</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/Rugby_Stats_Analysis.html">An analysis of international rugby scoring</a></h1>
<footer class="post-info">
        <abbr class="published" title="2018-01-07T00:00:00+01:00">
                Published: Sun 07 January 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/john-boudreaux.html">John Boudreaux</a>
        </address>
<p>In <a href="/category/general.html">General</a>.</p>
<p>tags: <a href="/tag/rugby.html">Rugby</a> <a href="/tag/sports.html">Sports</a> <a href="/tag/chi-square.html">Chi-Square</a> <a href="/tag/tableau.html">Tableau</a> </p>
</footer><!-- /.post-info --><style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So in the <a href="https://boudrejp.github.io/Rugby_Web_Scraper.html">previous post</a>, I built the framework for a web scraper to have all the rugby scoring statistics for 10 years from the ESPN StatsGuru database. Now, let's get down to analyzing it.</p>
<p>Before we do that though, we ought to discuss the data we're dealing with a little bit more and perhaps delve into a bit of explanation of how and why these outcomes might happen in a game of rugby. The scoring works relatively similar to football. You have tries (touchdowns) worth 5 points, conversions (extra points after a touchdown) worth 2 points, along with drop kicks and penalties (field goals) each worth 3 points. Any player can score by any of these means, although teams usually designate a player to do the majority of the kicking duties. These tend to be the flyhalf, fullback, or scrumhalf, but it could be any player to do it.</p>
<p>Some of my old coaches said that certain positions are more important in terms of the overall success or failure of a team. In general, you would want to have your best player at flyhalf, second best at scrumhalf, then 8-man, fullback, hooker, and open-side flanker. These players tend to be in the most decision making situations and likely will have the ball the most. Having good players in these positions would put you in a solid place, no matter what any other team could throw against you.</p>
<p><img alt="Rugby Union Positions" src="https://www.myactivesg.com/~/media/consumer/images/sports/rugby/5rugbypositionsforwards.jpg" /></p>
<p>In international rugby, there are "tiers" of teams. Tier 1 nations are established rugby powerhouses and have significant talent pools to draw from. They have skilled players at every position, not just the ones listed above. Tier 2 nations tend to not have the same kind of talent to draw from, for a variety of reasons. Because of this, intuitively I'd expect the gap between the best players and the rest to be far greater than a Tier 1 nation. In particular, I'd expect those best players to be put in the more critical positions. Tier 3 is a step below Tier 2 and we would expect a similar effect. Unfortunately, data in ESPN StatsGuru is relatively sparse for the Tier 3 nations, so any sort of analysis is difficult to assert as valid with small sample size.</p>
<p>In my previous playing experience with the University of Texas and in high school, I saw the trends in the first paragraph firsthand. Against worse competition, there tended to be a few "star" players on each team. If you shut those players down with a defensive scheme that focused on them, you could win easily. Better coached and more talented teams provided a much different challenge- everyone needed to execute a cohesive gameplan, because almost any player was capable of a breakthrough play.</p>
<p>While not a perfect measure, I was wondering if you could see the difference in player skills through the scoring statistics from ESPN StatsGuru. Ideally, you would want to have statistics for running meters, offloads, tackles and missed tackles, and other measures to see how good each individual player was. Given that those statistics aren't readily available on a large scale, I went to see if you could determine these things in purely the scoring statistics instead.</p>
<p>A note on the code: at the moment, I'm a little bit more comfortable with R for data analysis than Python. So we'll do this analysis in R using the <em>dplyr</em> package. So why don't we start by uploading a nice, preprocessed and cleaned version of the data frame we got from the web scraper in the last post.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="kn">library</span><span class="p">(</span>dplyr<span class="p">)</span>
df <span class="o"><-</span> read.csv<span class="p">(</span><span class="s">"C:/Users/John/Documents/GitHub/RugbyStats/preprocessed.csv"</span><span class="p">)</span>
<span class="kp">summary</span><span class="p">(</span>df<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_text output_subarea ">
<pre>       X             conv            country       drop_kicks     
 Min.   :   1   Min.   : 0.0000   NZ     : 605   Min.   :0.00000  
 1st Qu.:2023   1st Qu.: 0.0000   JPN    : 549   1st Qu.:0.00000  
 Median :4107   Median : 0.0000   Aust   : 461   Median :0.00000  
 Mean   :4098   Mean   : 0.5823   SA     : 433   Mean   :0.02754  
 3rd Qu.:6165   3rd Qu.: 1.0000   Arg    : 416   3rd Qu.:0.00000  
 Max.   :8213   Max.   :16.0000   Ire    : 373   Max.   :3.00000  
                                  (Other):5116                    
        opposition     penalties                  player         points    
 Australia   : 415   Min.   :0.0000   M Kvirikashvili:  72   Min.   : 2.0  
 Italy       : 414   1st Qu.:0.0000   FA Vlaicu      :  69   1st Qu.: 5.0  
 Argentina   : 360   Median :0.0000   DW Carter      :  68   Median : 5.0  
 South Africa: 338   Mean   :0.6525   SL Halfpenny   :  61   Mean   : 7.1  
 Wales       : 329   3rd Qu.:1.0000   JJ Sexton      :  60   3rd Qu.: 9.0  
 New Zealand : 328   Max.   :8.0000   M Steyn        :  60   Max.   :37.0  
 (Other)     :5769                    (Other)        :7563                 
    position     result         tries        country_tier   opposition_tier
 FH     :1895   draw: 149   Min.   :0.0000   1    :3876   1         :3391  
 W      :1546   lost:2550   1st Qu.:0.0000   2    :3675   2         :3124  
 C      :1129   won :5254   Median :1.0000   3    : 377   3         :1399  
 FB     : 915               Mean   :0.7791   Lions:  25   Lions/Barb:  39  
 SH     : 616               3rd Qu.:1.0000                                 
 F      : 610               Max.   :6.0000                                 
 (Other):1242                                                              
  points_tries     points_convs     points_pens      points_drops    
 Min.   : 0.000   Min.   : 0.000   Min.   : 0.000   Min.   :0.00000  
 1st Qu.: 0.000   1st Qu.: 0.000   1st Qu.: 0.000   1st Qu.:0.00000  
 Median : 5.000   Median : 0.000   Median : 0.000   Median :0.00000  
 Mean   : 3.895   Mean   : 1.165   Mean   : 1.957   Mean   :0.08261  
 3rd Qu.: 5.000   3rd Qu.: 2.000   3rd Qu.: 3.000   3rd Qu.:0.00000  
 Max.   :30.000   Max.   :32.000   Max.   :24.000   Max.   :9.00000  
                                                                     </pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So what we have here is a data frame that has individual entries for each player per match. We have how many points they scored, how they scored them, their team and tier, opposition team and tier, and the result of the match. All of these came after some preprocessing of the data, with the tiers coming from Wikipedia (see: <a href="https://en.wikipedia.org/wiki/List_of_international_rugby_union_teams">https://en.wikipedia.org/wiki/List_of_international_rugby_union_teams</a>).</p>
<p>The individual player stats aren't so much what I'm interested in- rather, I'd like to look at aggregates of the data to slice and dice it in different ways to answer some questions. That's where the <em>dyplr</em> package comes in- it gives us a lot of nice tools to subset and aggregate our data.</p>
<p>Let's start off by asking how does the overall scoring profile of how Tier 1 teams score against each other compare against how Tier 2 teams score against each other. We can look at this both from the perspective of what types of scores (tries, conversions, etc) and who scores, position by position. If my hunch from the introduction is correct, we should see that important positions score more than their piers, and we should see that effect in a greater magnitude in the Tier 2 data.</p>
<p>We can test this using a Chi Squared test, which essentially tests the overall "profile" of scoring. A low p-value essentially tells us that we can realistically say these two are different distributions. The standardized residuals will give us a feel for how the two distributions are different from each other. Let's see what the stats say:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1">###question 1: how does tier1 v tier1 scoring profile compare to tier2 v tier2</span>
<span class="c1">###1a: types of scores 1b: who scores tries</span>
df.test.1 <span class="o"><-</span> filter<span class="p">(</span>df<span class="p">,</span> country_tier <span class="o">==</span> <span class="m">1</span><span class="p">,</span> opposition_tier<span class="o">==</span><span class="m">1</span><span class="p">)</span>
df.test.2 <span class="o"><-</span> filter<span class="p">(</span>df<span class="p">,</span> country_tier <span class="o">==</span> <span class="m">2</span><span class="p">,</span> opposition_tier <span class="o">==</span><span class="m">2</span><span class="p">)</span>

<span class="c1">###1a-> types of scores</span>
df.info.1 <span class="o"><-</span> 
  df.test.1 <span class="o">%>%</span>
    summarise<span class="p">(</span>
      points_tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_tries<span class="p">),</span>
      points_convs <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_convs<span class="p">),</span>
      points_drops <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_drops<span class="p">),</span>
      points_pens <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_pens<span class="p">)</span>
    <span class="p">)</span>

df.info.2 <span class="o"><-</span> 
  df.test.2 <span class="o">%>%</span>
  summarise<span class="p">(</span>
    points_tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_tries<span class="p">),</span>
    points_convs <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_convs<span class="p">),</span>
    points_drops <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_drops<span class="p">),</span>
    points_pens <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_pens<span class="p">)</span>
  <span class="p">)</span>

chi.table <span class="o"><-</span> <span class="kp">rbind</span><span class="p">(</span>df.info.1<span class="p">,</span> df.info.2<span class="p">)</span>
<span class="kp">rownames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> <span class="kt">c</span><span class="p">(</span><span class="s">"Tier_1"</span><span class="p">,</span> <span class="s">"Tier_2"</span><span class="p">)</span>
chi.table <span class="o"><-</span> <span class="kp">as.data.frame</span><span class="p">(</span><span class="kp">t</span><span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Aggregates table:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chi.table<span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Results of same tier matches:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Standardized residuals:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">)</span><span class="o">$</span>stdres<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] "Aggregates table:"
             Tier_1 Tier_2
points_tries  10205   8220
points_convs   3148   2380
points_drops    420    114
points_pens    7746   4569
[1] "-----------------------------------------"
[1] "Results of same tier matches:"

	Pearson's Chi-squared test

data:  chi.table
X-squared = 266.47, df = 3, p-value < 2.2e-16

[1] "-----------------------------------------"
[1] "Standardized residuals:"
                 Tier_1     Tier_2
points_tries -12.028367  12.028367
points_convs  -2.497545   2.497545
points_drops   9.532507  -9.532507
points_pens   12.220962 -12.220962
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our first output is simply the aggregated numbers. At first glance, we can see that Tier 1 teams score more in every category, and that it looks like they score a lot more penalties than Tier 2. With the Chi Squared test, we ask "are the proportions of these two the same" or "what's the likelihood that these two follow fundamentally the same proportions for each category?" The answer, from the low p-value, is that Tier 1 teams don't score their points in the same manner that Tier 2 teams do. The residuals give us a feel for how much they are different. These are standardized residuals, so they are scaled by a factor of the overall variance in the data. Basically, this just means you can't interpret them directly as "Tier 2 scores 12 times more tries than Tier 1 in this analysis."</p>
<p>Anyways, this falls in line more or less with my presumptions. Kicking game is done by very skilled players, and those skilled players are more likely to be on good teams. However, Tier 1 games tend to be closer and more competitive than Tier 2 games, and this could be because points are at a premium and you have to take advantage for any oppportunity for points. Therefore, you take the penalty or drop goal as a "sure bet" instead of gambling to get a try.</p>
<p>Let's take a look at the positions themselves:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1">###1b-> who scores</span>
df.info.1 <span class="o"><-</span> 
  df.test.1 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>points <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points<span class="p">))</span>

df.info.2 <span class="o"><-</span> 
  df.test.2 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>points <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points<span class="p">))</span>

chi.table <span class="o"><-</span> <span class="kp">cbind</span><span class="p">(</span>df.info.1<span class="p">,</span> df.info.2<span class="p">)</span>
<span class="kp">rownames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> chi.table<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
chi.table <span class="o"><-</span> chi.table<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)]</span>
<span class="kp">colnames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> <span class="kt">c</span><span class="p">(</span><span class="s">"Tier_1"</span><span class="p">,</span> <span class="s">"Tier_2"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Aggregates table:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chi.table<span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Results of who scores in same tier matches:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Standardized residuals:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">)</span><span class="o">$</span>stdres<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] "Aggregates table:"
   Tier_1 Tier_2
C    2721   1920
F     935    968
FB   1924   2825
FH   8755   3825
H     410    428
L     480    577
N8    548    654
P     390    435
SH   1787   1145
W    3569   2506
[1] "-----------------------------------------"
[1] "Results of who scores in same tier matches:"

	Pearson's Chi-squared test

data:  chi.table
X-squared = 1578.1, df = 9, p-value < 2.2e-16

[1] "-----------------------------------------"
[1] "Standardized residuals:"
        Tier_1      Tier_2
C    0.2325391  -0.2325391
F   -8.4903283   8.4903283
FB -26.9110322  26.9110322
FH  31.2046226 -31.2046226
H   -5.6730578   5.6730578
L   -8.7436384   8.7436384
N8  -9.2149215   9.2149215
P   -6.6025285   6.6025285
SH   2.8358316  -2.8358316
W    0.4788128  -0.4788128
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With these results, it's difficult to tell what we ought to take away from this. My takeaway is that it's difficult to distinguish a player's contributions when differnt players might be doing kicking duties. For example, the huge disparities between FB and FH (fullback and flyhalf) could hypothetically be that in Tier 1 teams, more fullbacks do kicking duties than flyhalves. Kickers numbers for scoring get inflated significanty, and it skews the rest of our numbers here.</p>
<p>Why don't we try doing the same analysis for tries only, where we ought to see a more even distribution between positions:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1">###1b-> who scores</span>
df.info.1 <span class="o"><-</span> 
  df.test.1 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>tries<span class="p">))</span>

df.info.2 <span class="o"><-</span> 
  df.test.2 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>tries<span class="p">))</span>

chi.table <span class="o"><-</span> <span class="kp">cbind</span><span class="p">(</span>df.info.1<span class="p">,</span> df.info.2<span class="p">)</span>
<span class="kp">rownames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> chi.table<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
chi.table <span class="o"><-</span> chi.table<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)]</span>
<span class="kp">colnames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> <span class="kt">c</span><span class="p">(</span><span class="s">"Tier_1"</span><span class="p">,</span> <span class="s">"Tier_2"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Aggregates table:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chi.table<span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Results of who scores tries in same tier matches:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Standardized residuals:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">)</span><span class="o">$</span>stdres<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] "Aggregates table:"
   Tier_1 Tier_2
C     385    227
F     187    193
FB    193    154
FH    116     62
H      82     85
L      96    115
N8    109    129
P      78     87
SH    159    116
W     636    476
[1] "-----------------------------------------"
[1] "Results of who scores tries in same tier matches:"

	Pearson's Chi-squared test

data:  chi.table
X-squared = 53.179, df = 9, p-value = 2.703e-08

[1] "-----------------------------------------"
[1] "Standardized residuals:"
        Tier_1      Tier_2
C   4.09920548 -4.09920548
F  -2.55746440  2.55746440
FB  0.09169869 -0.09169869
FH  2.69120230 -2.69120230
H  -1.67221827  1.67221827
L  -2.97622467  2.97622467
N8 -3.07678439  3.07678439
P  -2.14530066  2.14530066
SH  0.84322506 -0.84322506
W   1.45112448 -1.45112448
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I have to admit... this is a lot different than I expected it to be. The differences between 8-man and center stick out the most, but this doesn't exactly fall in line with the "critical positions" thought from earlier. This could be for a variety of reasons, but at this point I think it wouldn't be completely unreasonable to say this thought process might be wrong. Alternatively, using scoring as the only method to judge this could just be a bad way to measure it, rather than having running meters, offloads, etc.</p>
<p>Anyways, up to this point we've only looked at same-tier matchups. What about when a team plays a team of a lower tier? I think we would probably see a lot more tries and conversions, and far fewer conversions and drop goals. It ought to be easier to score against a team significantly worse than you, so you might as well try to get it in big chunks. I'd also expect the distribution of who scores tries to be more even here, simply because the ball will just get passed around more.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span>df.test.1 <span class="o"><-</span> filter<span class="p">(</span>df<span class="p">,</span> country_tier <span class="o">==</span> <span class="m">1</span><span class="p">,</span> opposition_tier<span class="o">==</span><span class="m">2</span><span class="p">)</span>
df.test.2 <span class="o"><-</span> filter<span class="p">(</span>df<span class="p">,</span> country_tier <span class="o">==</span> <span class="m">2</span><span class="p">,</span> opposition_tier <span class="o">==</span><span class="m">3</span><span class="p">)</span>

df.info.1 <span class="o"><-</span> 
  df.test.1 <span class="o">%>%</span>
  summarise<span class="p">(</span>
    points_tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_tries<span class="p">),</span>
    points_convs <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_convs<span class="p">),</span>
    points_drops <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_drops<span class="p">),</span>
    points_pens <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_pens<span class="p">)</span>
  <span class="p">)</span>

df.info.2 <span class="o"><-</span> 
  df.test.2 <span class="o">%>%</span>
  summarise<span class="p">(</span>
    points_tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_tries<span class="p">),</span>
    points_convs <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_convs<span class="p">),</span>
    points_drops <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_drops<span class="p">),</span>
    points_pens <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>points_pens<span class="p">)</span>
  <span class="p">)</span>

chi.table <span class="o"><-</span> <span class="kp">rbind</span><span class="p">(</span>df.info.1<span class="p">,</span> df.info.2<span class="p">)</span>
<span class="kp">rownames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> <span class="kt">c</span><span class="p">(</span><span class="s">"Tier_1"</span><span class="p">,</span> <span class="s">"Tier_2"</span><span class="p">)</span>
chi.table <span class="o"><-</span> <span class="kp">as.data.frame</span><span class="p">(</span><span class="kp">t</span><span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Aggregates table:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chi.table<span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Results of matches against lower tier:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Standardized residuals:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">)</span><span class="o">$</span>stdres<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] "Aggregates table:"
             Tier_1 Tier_2
points_tries   3255   6120
points_convs    998   1820
points_drops     21     51
points_pens     894    774
[1] "-----------------------------------------"
[1] "Results of matches against lower tier:"

	Pearson's Chi-squared test

data:  chi.table
X-squared = 222.68, df = 3, p-value < 2.2e-16

[1] "-----------------------------------------"
[1] "Standardized residuals:"
                Tier_1     Tier_2
points_tries -8.312002   8.312002
points_convs -2.062895   2.062895
points_drops -1.395742   1.395742
points_pens  14.873668 -14.873668
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Overall, we see the same trend: the value of penalties an drop goals decreases when it's easier to score points by tries and consequently conversions. We see that the Tier 1 nations, which tend to have more skilled kickers, still opt for kicking points at a much higher rate than the Tier 2 nations. Also, the drop off between Tier 2 and Tier 3 is larger than Tier 1 to Tier 2. A good Tier 2 nation can rack up serious points against an average Tier 3 opponent.</p>
<p>Let's take a look at who scores, tries only this time:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1">###2b-> who scores</span>
df.info.1 <span class="o"><-</span> 
  df.test.1 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>tries<span class="p">))</span>

df.info.2 <span class="o"><-</span> 
  df.test.2 <span class="o">%>%</span>
    group_by<span class="p">(</span>position<span class="p">)</span> <span class="o">%>%</span>
      summarize<span class="p">(</span>tries <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>tries<span class="p">))</span>

chi.table <span class="o"><-</span> <span class="kp">cbind</span><span class="p">(</span>df.info.1<span class="p">,</span> df.info.2<span class="p">)</span>
<span class="kp">rownames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> chi.table<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
chi.table <span class="o"><-</span> chi.table<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)]</span>
<span class="kp">colnames</span><span class="p">(</span>chi.table<span class="p">)</span> <span class="o"><-</span> <span class="kt">c</span><span class="p">(</span><span class="s">"Tier_1"</span><span class="p">,</span> <span class="s">"Tier_2"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Aggregates table:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chi.table<span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Results of who scores tries in matches against lower tier:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">))</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"-----------------------------------------"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="s">"Standardized residuals:"</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>chisq.test<span class="p">(</span>chi.table<span class="p">)</span><span class="o">$</span>stdres<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] "Aggregates table:"
   Tier_1 Tier_2
C     108    184
F      68    183
FB     53    113
FH     37     63
H      41     68
L      27     82
N8     35    106
P      25     47
SH     37     57
W     220    321
[1] "-----------------------------------------"
[1] "Results of who scores tries in matches against lower tier:"

	Pearson's Chi-squared test

data:  chi.table
X-squared = 28.495, df = 9, p-value = 0.0007882

[1] "-----------------------------------------"
[1] "Standardized residuals:"
          Tier_1        Tier_2
C   0.8852976971 -0.8852976971
F  -2.7276968703  2.7276968703
FB -0.7915240358  0.7915240358
FH  0.4922167326 -0.4922167326
H   0.6540922442 -0.6540922442
L  -2.2481933221  2.2481933221
N8 -2.5669810758  2.5669810758
P   0.0004039025 -0.0004039025
SH  0.9699066544 -0.9699066544
W   3.4436976392 -3.4436976392
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that both tiers of teams clearly value wings that are "finishers" and score often. A good team will find a way to work the ball to the wing and let them score. Teams that aren't as skilled with ball movement likely wouldn't see the wings be quite as important- a possible reason for the lower result for Tier 2.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So now that we've done a bunch of statistics, we're probably overdue for visualizations. I've put all the data from the database into a <a href="https://public.tableau.com/shared/BN86S2J76?:display_count=yes">Tableau story</a>, where you can look through a bunch of different views of the data and draw conclusions of your own.</p>
<p>I've got a few more projects that I've been working on recently, and look forward to doing the write up on those. I'll be doing some more traditional machine learning projects. Until then, happy exploring!</p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/Rugby_Web_Scraper.html" rel="bookmark"
                           title="Permalink to Building a web scraper for international rugby scoring">Building a web scraper for international rugby scoring</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-01-04T00:00:00+01:00">
                Published: Thu 04 January 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/john-boudreaux.html">John Boudreaux</a>
        </address>
<p>In <a href="/category/general.html">General</a>.</p>
<p>tags: <a href="/tag/rugby.html">Rugby</a> <a href="/tag/sports.html">Sports</a> <a href="/tag/web-scraper.html">Web Scraper</a> </p>
</footer><!-- /.post-info -->                
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ESPN has a database of all international rugby scores for matches in the present day all the way back through the 1950s and even some earlier matches. Using  Jupyter notebooks, I wanted to go through the basic steps of building a web scraper to get this data into a more friendly format (.csv) so that I can do more analysis with it in Python or R. This web scraper is built using Python and BeautifulSoup. Let's start by taking a look at the URL of a relevant query of the last 10 years worth of international data.</p>
                <a class="readmore" href="/Rugby_Web_Scraper.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/hello-world.html" rel="bookmark"
                           title="Permalink to Hello World!">Hello World!</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-12-09T13:55:00+01:00">
                Published: Sat 09 December 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/john-boudreaux.html">John Boudreaux</a>
        </address>
<p>In <a href="/category/general.html">General</a>.</p>

</footer><!-- /.post-info -->                <p>Hello world!</p>
<p>This is just a test post for what I hope to become a nice outlet for my various data science side projects.
The overall scope of this isn't defined just yet, but I hope that this will provide a good an accessible way for people to get an …</p>
                <a class="readmore" href="/hello-world.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://github.com/boudrejp/">Github</a></li>
                            <li><a href="https://public.tableau.com/profile/john.boudreaux#!/">Tableau Public</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://www.linkedin.com/in/boudreauxjohn/">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>